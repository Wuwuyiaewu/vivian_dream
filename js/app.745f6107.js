(function(t){function a(a){for(var s,r,n=a[0],c=a[1],l=a[2],u=0,p=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(p.length)p.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],s=!0,n=1;n<e.length;n++){var c=e[n];0!==i[c]&&(s=!1)}s&&(o.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={app:0},o=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=a,n=n.slice();for(var l=0;l<n.length;l++)a(n[l]);var d=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0d48":function(t,a,e){t.exports=e.p+"img/carrot_3.82a8f149.jpg"},"20b5":function(t,a,e){t.exports=e.p+"img/donut_2.1e957942.jpg"},"27cb":function(t,a,e){},2985:function(t,a,e){t.exports=e.p+"img/Meringue_1.b9ecc441.jpg"},"39c8":function(t,a,e){t.exports=e.p+"img/lovely_gradu_1.68878585.jpg"},"3d8f":function(t,a,e){"use strict";var s=e("66d8"),i=e.n(s);i.a},"3f19":function(t,a,e){t.exports=e.p+"img/Cream_1.6a6e233e.jpg"},"566d":function(t,a,e){"use strict";var s=e("f399"),i=e.n(s);i.a},"56d7":function(t,a,e){"use strict";e.r(a);e("4de4"),e("4160"),e("b64b"),e("159b");var s=e("5530"),i=(e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("2b0e")),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],n={data:function(){return{}},name:"Home",components:{},methods:{}},c=n,l=(e("5c0b"),e("2877")),d=Object(l["a"])(c,o,r,!1,null,null,null),u=d.exports,p=e("8c4f"),m=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("app-navbar",{staticClass:"sticky-top",attrs:{cartbag:t.cartbag,show:t.cartshow},on:{"cart-control":t.parent_cartcontrol}}),e("router-view",{staticClass:"animate pt-5",class:{push:t.cartfolder},attrs:{wishlist:t.wishid}}),e("app-mask",{attrs:{cart:t.cartfolder}}),e("app-cart",{attrs:{cart:t.cartfolder,cartbag:t.cartbag}})],1)},v=[],f=(e("99af"),e("caad"),e("c975"),e("a434"),e("2532"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{staticClass:"navbar navbar-expand-md bg-white"},[e("router-link",{staticClass:"navbar-brand col-4 none-hover-class",attrs:{to:"/"}},[t._v(" Vivian_illustrator ")]),e("button",{staticClass:"navbar-toggler",attrs:{type:"button"},on:{click:function(a){t.clickshow=!t.clickshow}}},[e("svg",{staticClass:"svg-inline--fa fa-bars fa-w-14 text-primary",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{fill:"currentColor",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}})])]),e("div",{staticClass:"col-8 d-none d-md-block"},[e("ul",{staticClass:"navbar-nav row"},[e("li",{staticClass:"col-2"},[e("router-link",{attrs:{to:"/","exact-active-class":"router-active"}},[t._v(" 首頁 ")])],1),e("li",{staticClass:"col-2"},[e("router-link",{attrs:{to:"/gallery","active-class":"router-active"}},[t._v(" 畫廊 ")])],1),e("li",{staticClass:"col-2"},[e("router-link",{attrs:{to:"/favor","active-class":"router-active"}},[t._v(" 收藏 ")])],1),e("li",{staticClass:"col-2"}),e("li",{staticClass:"col-1 position-relative"},[e("button",{staticClass:"border-0 bg-white",on:{click:t.foldcart}},[e("svg",{staticClass:"svg-inline--fa fa-shopping-cart fa-w-18 text-primary",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"shopping-cart",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[e("path",{attrs:{fill:"currentColor",d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"}})]),e("span",{staticClass:"cartNum"},[t._v(t._s(t.cartbag.length))])])]),e("li",{staticClass:"col-1"},[e("router-link",{attrs:{to:"/login"}},[e("svg",{staticClass:"svg-inline--fa fa-user fa-w-14 text-primary",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}})])])],1)])])],1),t.rwdshow&t.clickshow?e("div",{staticClass:"navbar-collapse position-fixed bg-primary-light h-100 w-100",attrs:{id:"navbarSupportedContent"}},[e("div",{staticClass:"list-group text-center"},[e("router-link",{staticClass:"list-group-item list-group-item-action bg-primary-light none-hover-class",attrs:{to:"/favor"},nativeOn:{click:function(a){return t.changeview(a)}}},[t._v(" 收藏 ")]),e("router-link",{staticClass:"list-group-item list-group-item-action bg-primary-light none-hover-class",attrs:{to:"/gallery",href:"#"},nativeOn:{click:function(a){return t.changeview(a)}}},[t._v(" 畫廊 ")]),e("router-link",{staticClass:"list-group-item list-group-item-action bg-primary-light none-hover-class",attrs:{to:"/checkout",href:"#"},nativeOn:{click:function(a){return t.changeview(a)}}},[t._v(" 購物車 "),e("span",{staticStyle:{"font-size":"0.75rem"}},[t._v("("+t._s(t.cartbag.length)+")")])])],1)]):t._e()])}),g=[],h={props:{cartbag:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{screenWidth:document.body.clientWidth,rwdshow:Boolean,clickshow:!1,cartshow:!0}},methods:{changeview:function(){var t=this;t.clickshow=!1},foldcart:function(){var t=this;t.$emit("cart-control"),t.$bus.$emit("cartUpdate")}},mounted:function(){var t=this;window.onresize=function(){return function(){window.screenWidth=document.body.clientWidth,t.screenWidth=window.screenWidth}()},t.screenWidth>768?t.rwdshow=!1:t.rwdshow=!0},watch:{screenWidth:function(t){if(!this.timer){var a=this;a.timer=!0,a.screenWidth=t,setTimeout((function(){a.timer=!1}),400),a.screenWidth>768?a.rwdshow=!1:a.rwdshow=!0}}},created:function(){}},b=h,_=(e("566d"),Object(l["a"])(b,f,g,!1,null,"3500b560",null)),C=_.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mask",class:{visiable:t.cart}})},w=[],x={props:{cart:Boolean},data:function(){return{cartshow:this.cart}},methods:{}},k=x,P=(e("9e7a"),Object(l["a"])(k,y,w,!1,null,"61da1240",null)),$=P.exports,E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"navmenu bg-primary-light",class:{active:t.cart}},[e("div",{staticClass:"container"},[t._l(t.cartbag,(function(a){return e("div",{key:a.id,staticClass:"row mt-3"},[e("div",{staticClass:"col-4"},[e("img",{staticClass:"img-fluid",attrs:{src:a.product.image,alt:""}})]),e("div",{staticClass:"col-3",staticStyle:{"font-size":"8px"}},[e("span",[t._v(t._s(a.product.title))]),e("br"),e("span",[t._v(t._s(a.qty)+" / pic")])]),t._m(0,!0),e("div",{staticClass:"col-2"},[e("button",{staticClass:"btn p-0",on:{click:function(e){return t.removeCart(a.id)}}},[e("svg",{staticClass:"svg-inline--fa fa-trash fa-w-14 text-danger",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{fill:"#FF6464",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}})])])])])})),e("div",{staticClass:"row mt-5"},[0===t.cartbag.length?e("div",{staticClass:"col-12"},[e("p",[t._v("購物車內目前沒有商品")])]):e("div",{staticClass:"col-12 text-right"},[e("router-link",{staticClass:"btn btn-primary-dark",attrs:{to:{name:"checkout"}}},[t._v(" check out ")])],1)])],2)])},O=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-3",staticStyle:{"font-size":"8px"}},[e("p",[t._v("250 $")])])}],L={props:{cart:{type:Boolean},cartbag:{type:Array,required:!1,default:function(){return[]}}},components:{},data:function(){return{cartshow:!this.cart}},methods:{removeCart:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart/").concat(t);a.axios.delete(e).then((function(t){t.data.success&&(a.$bus.$emit("cartUpdate"),a.$bus.$emit("message:push","刪除成功","secondary-dark"))}))},goCheck:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/order");t.axios.post(a).then((function(){}))}},created:function(){}},M=L,N=(e("e40e"),Object(l["a"])(M,E,O,!1,null,"de4f1c8e",null)),j=N.exports,T={name:"Home",data:function(){return{cartshow:!0,cartfolder:!1,cartbag:[],wishid:[]}},components:{"app-navbar":C,"app-mask":$,"app-cart":j},methods:{parent_cartcontrol:function(){this.cartfolder=!this.cartfolder},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart");t.axios.get(a).then((function(a){t.cartbag=a.data.data.carts}))},wishSet:function(t){this.wishid.includes(t)?(this.wishid.splice(this.wishid.indexOf(t),1),this.$bus.$emit("message:push","取消收藏","secondary")):(this.wishid.push(t),this.$bus.$emit("message:push","加入收藏","primary-light"))}},created:function(){var t=this;this.$bus.$on("cartUpdate",(function(){t.getCart()})),this.$bus.$on("wishPic",(function(a){t.wishSet(a)}))}},S=T,A=(e("8e7b"),Object(l["a"])(S,m,v,!1,null,null,null)),q=A.exports,V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"bg-right d-none d-sm-none d-md-block"}),e("div",{staticClass:"wave d-none d-sm-none d-md-block"}),e("div",{staticClass:"home d-none d-sm-none d-md-block"},[e("section",{staticClass:"mt-5"},[e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-8"},[e("h1",[t._v("watercolor illustrator")]),e("br"),e("I",[t._v('"It does not matter what material we use. We need the technique and we need the idea. And then we need the poetry, the love that transforms the material into a piece of art."')]),e("br"),e("br"),e("P",[t._v("比起我們創作藝術時的材料。")]),e("P",[t._v("更需要的是技術的潤滑、是創意塗抹、甚至需要詩歌的愛意，到了最後一刻，交融成藝術品。")])],1)])])]),e("Coupon")],1),e("div",{staticClass:"home d-sm-block d-md-none"},[t._m(1),e("Coupon")],1),t._m(2)])},z=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3 col-sm-5 col-md-4"},[e("p",[t._v("shop anywhere")])]),e("div",{staticClass:"col-lg-1 col-sm-4 col-md-3"}),e("div",{staticClass:"col-lg-3 col-sm-5 col-md-4"},[t._v(" get here ")]),e("div",{staticClass:"col-1 col-md-0"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container"},[s("div",{staticClass:"row mt-4 u-r-marging-8"},[s("div",{staticClass:"col-6 u-padding-8 mb-2"},[s("img",{staticClass:"img-fluid",attrs:{src:e("9e2a"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8"},[s("img",{staticClass:"img-fluid",attrs:{src:e("fff5"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8 mb-2"},[s("img",{staticClass:"img-fluid",attrs:{src:e("3f19"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8"},[s("img",{staticClass:"img-fluid",attrs:{src:e("d3f8"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8 mb-2"},[s("img",{staticClass:"img-fluid",attrs:{src:e("d836"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8"},[s("img",{staticClass:"img-fluid",attrs:{src:e("8c93"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8 mb-2"},[s("img",{staticClass:"img-fluid",attrs:{src:e("2985"),alt:""}})]),s("div",{staticClass:"col-6 u-padding-8"},[s("img",{staticClass:"img-fluid",attrs:{src:e("c741"),alt:""}})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"footer mt-auto py-3 bg-primary-light"},[e("div",{staticClass:"container"},[e("span",{staticClass:"text-muted"},[t._v(" @2020 CopyRight 本站僅作品練習，圖資來源為個人創作，如需使用請聯繫作者 ")])])])}],D=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"container"},[s("section",{staticClass:"mt-5 row d-none d-sm-none d-md-block"},[s("swiper",{ref:"mySwiper",staticClass:"col-9",attrs:{options:t.swiperOption}},[s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("e813"),alt:""}}),s("h6",[t._v("甜筒")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("20b5"),alt:""}}),s("h6",[t._v("甜甜圈")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("b6ed"),alt:""}}),s("h6",[t._v("蛋餅")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("39c8"),alt:""}}),s("h6",[t._v("畢業")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("6693"),alt:""}}),s("h6",[t._v("樹莓派")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("7a7c"),alt:""}}),s("h6",[t._v("蜜酒糖")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("0d48"),alt:""}}),s("h6",[t._v("紅蘿蔔糕")])]),s("swiper-slide",[s("img",{staticClass:"img-fluid",attrs:{src:e("8da3"),alt:""}}),s("h6",[t._v("奶茶")])])],1)],1),t._m(0),s("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.invalid;return[s("form",{staticClass:"row ",on:{submit:function(a){return a.preventDefault(),t.emails(a)}}},[s("ValidationProvider",{staticClass:"col-md-6 col-sm-12 mb-4",attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.errors;return[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.typeEmail,expression:"typeEmail"}],staticClass:"form-control",attrs:{type:"email",name:"email",placeholder:"請輸入 Email",required:""},domProps:{value:t.typeEmail},on:{input:function(a){a.target.composing||(t.typeEmail=a.target.value)}}}),s("div",{staticClass:"text-right input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary bg-secondary-dark text-white",attrs:{disabled:e}},[t._v(" 送出 ")])]),s("br"),s("span",{staticClass:"text-danger position-absolute validate-error"},[t._v(t._s(i[0]))])])]}}],null,!0)}),s("div",{staticClass:"col-md-6 col-sm-12"},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.couponText_discount,expression:"couponText_discount"}],staticClass:"form-control",attrs:{type:"text",id:"couponText"},domProps:{value:t.couponText_discount},on:{input:function(a){a.target.composing||(t.couponText_discount=a.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:t.copyTestingCode}},[t._v(" 複製 ")])])])])],1)]}}])})],1)])},I=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12 mt-5"},[e("p",{staticClass:"text-center"},[t._v(" 輸入信箱取得最新作品資訊與優惠碼 ")])])}],H={data:function(){return{typeEmail:"",couponText_discount:null,form:{user:{email:""}},swiperOption:{initialSlide:0,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},grabCursor:!0,slidesPerView:4,spaceBetween:20},scrollbarHide:!0}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},methods:{emails:function(){this.couponText_discount="Vivian_illustrator"},copyTestingCode:function(){var t=document.querySelector("#couponText");t.setAttribute("type","text"),t.select();try{var a=document.execCommand("copy"),e=a?"successful":"unsuccessful";alert("複製成功"+e)}catch(s){alert("複製失敗")}}},mounted:function(){this.swiper.slideTo(3,1e3,!1)}},U=H,F=(e("3d8f"),Object(l["a"])(U,D,I,!1,null,"2ea6b2ec",null)),B=F.exports,W={name:"Home",data:function(){return{}},computed:{},components:{Coupon:B},methods:{}},R=W,J=(e("5bac"),Object(l["a"])(R,V,z,!1,null,"20678c12",null)),G=J.exports,K=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Alert"),e("div",{staticClass:"container"},[e("nav",{staticClass:"row",attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb col-12"},[e("router-link",{staticClass:"breadcrumb-item breadcrumb-link",attrs:{to:"/"}},[t._v(" 首頁 ")]),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" 畫廊 ")])],1)]),e("div",{staticClass:"row d-none d-sm-none d-md-flex"},[e("div",{staticClass:"col-3"},[e("div",{staticClass:"row bg-primary-dark pb-1 pt-1"},[e("div",{staticClass:"col-12 pb-1 pt-1"},[e("button",{staticClass:"btn btn-primary-light w-100 text-left",class:{active:"all"===t.categoryType},on:{click:function(a){t.categoryType="all"}}},[t._v(" All story ")])]),e("div",{staticClass:"col-12 pb-1 pt-1"},[e("button",{staticClass:"btn btn-primary-light w-100 text-left",class:{active:"sweet"===t.categoryType},on:{click:function(a){t.categoryType="sweet"}}},[t._v(" Sweet's story ")])]),e("div",{staticClass:"col-12 pb-1 pt-1"},[e("button",{staticClass:"btn btn-primary-light w-100 text-left",class:{active:"love"===t.categoryType},on:{click:function(a){t.categoryType="love"}}},[t._v(" Love's story ")])]),e("div",{staticClass:"col-12 pb-1 pt-1"},[e("button",{staticClass:"btn btn-primary-light w-100 text-left",class:{active:"natural"===t.categoryType},on:{click:function(a){t.categoryType="natural"}}},[t._v(" Natural story ")])])])]),e("div",{staticClass:"col-9"},[e("div",{staticClass:"row"},t._l(t.DreamFilter,(function(a){return e("div",{key:a.id,staticClass:"col-xl-4 col-lg-6 mb-2 position-relative card-outer"},[e("div",{staticClass:"position-absolute fav-icon-wrap",on:{click:function(e){return t.getFavorId(a.id)}}},[e("svg",{staticClass:"svg-inline--fa fa-gratipay fa-w-16 fav-icon",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"gratipay",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"}},[e("path",{attrs:{fill:"currentColor",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm114.6 226.4l-113 152.7-112.7-152.7c-8.7-11.9-19.1-50.4 13.6-72 28.1-18.1 54.6-4.2 68.5 11.9 15.9 17.9 46.6 16.9 61.7 0 13.9-16.1 40.4-30 68.1-11.9 32.9 21.6 22.6 60 13.8 72z"}})])]),e("div",{staticClass:"card bg-dark text-white web-card"},[e("img",{staticClass:"card-img",attrs:{src:a.image,alt:"..."}}),e("div",{staticClass:"card-img-overlay card-pt"},[e("div",{staticClass:"row "},[e("div",{staticClass:"col-6 text-center"},[e("button",{staticClass:"btn btn-primary-dark",attrs:{id:"addcart"},on:{click:function(e){return t.addToCard(a.id)}}},[t._v(" Add to cart ")])]),e("div",{staticClass:"col-6 text-center"},[e("router-link",{staticClass:"btn btn-primary-dark",attrs:{id:"seedetail",to:{name:"illustrator",params:{Illid:a.id}}}},[t._v(" See detail ")])],1)])])])])})),0)]),e("div",{staticClass:"col-3"}),e("div",{staticClass:"col-9"},["all"===t.categoryType?e("pagination",{attrs:{page:t.pagination},on:{pagechange:t.getProduct}}):t._e()],1)]),e("div",{staticClass:"row d-sm-flex d-md-none"},[e("back-to-top",{attrs:{bottom:"50px",right:"50px"}},[e("button",{staticClass:"btn btn-secondary-dark btn-to-top",attrs:{type:"button"}},[t._v(" ↑ ")])]),e("div",{staticClass:"col-12 bg-primary-light"},[e("button",{staticClass:"btn btn-outline-secondary btn-black text-uppercase filter-btn m-2",class:{active:"all"===t.categoryType},on:{click:function(a){t.categoryType="all"}}},[t._v(" All story ")]),e("button",{staticClass:"btn btn-outline-secondary btn-black text-uppercase filter-btn m-2",class:{active:"sweet"===t.categoryType},on:{click:function(a){t.categoryType="sweet"}}},[t._v(" Sweet's story ")]),e("button",{staticClass:"btn btn-outline-secondary btn-black text-uppercase filter-btn m-2",class:{active:"love"===t.categoryType},on:{click:function(a){t.categoryType="love"}}},[t._v(" Love's story ")]),e("button",{staticClass:"btn btn-outline-secondary btn-black text-uppercase filter-btn m-2",class:{active:"natural"===t.categoryType},on:{click:function(a){t.categoryType="natural"}}},[t._v(" Natural's story ")])])],1),e("div",{staticClass:"row d-sm-block d-md-none pt-2"},t._l(t.DreamFilter,(function(a){return e("div",{key:a.id,staticClass:"col-12 mb-2 card-outer"},[e("div",{staticClass:"position-absolute fav-icon-wrap",on:{click:function(e){return t.getFavorId(a.id)}}},[e("svg",{staticClass:"svg-inline--fa fa-gratipay fa-w-16 fav-icon",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"gratipay",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"}},[e("path",{attrs:{fill:"currentColor",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm114.6 226.4l-113 152.7-112.7-152.7c-8.7-11.9-19.1-50.4 13.6-72 28.1-18.1 54.6-4.2 68.5 11.9 15.9 17.9 46.6 16.9 61.7 0 13.9-16.1 40.4-30 68.1-11.9 32.9 21.6 22.6 60 13.8 72z"}})])]),e("div",{staticClass:"card bg-dark text-white"},[e("img",{staticClass:"card-img",attrs:{src:a.image,alt:"..."}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(" "+t._s(a.title)+" ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-primary-dark",on:{click:function(e){return t.addToCard(a.id)}}},[t._v(" Add to cart ")])]),e("div",{staticClass:"col-6"},[e("router-link",{staticClass:"btn btn-primary-dark",attrs:{to:{name:"illustrator",params:{Illid:a.id}}}},[t._v(" See detail ")])],1)])])])])})),0)]),t._m(0)],1)},Q=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"footer mt-auto py-3 bg-primary-light"},[e("div",{staticClass:"container"},[e("span",{staticClass:"text-muted"},[t._v("@2020 CopyRight 本站僅作品練習，圖資來源為個人創作，如需使用請聯繫作者")])])])}],X=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.page.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.getPaginationProduct(t.page.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.page.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:a===t.page.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getPaginationProduct(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:!t.page.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.getPaginationProduct(t.page.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},Y=[],Z={props:{page:{type:Object,required:!1,default:function(){return[]}}},methods:{getPaginationProduct:function(t){this.$emit("pagechange",t)}}},tt=Z,at=Object(l["a"])(tt,X,Y,!1,null,null,null),et=at.exports,st={data:function(){return{products:[],product:[],categoryType:"all",pagination:{},isLoading:!1}},components:{pagination:et},computed:{DreamFilter:function(){var t=this;return"all"===this.categoryType?this.products:this.product.filter((function(a){if(a.category===t.categoryType)return a}))}},methods:{getProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/products?page=").concat(t);a.isLoading=!0,a.axios.get(e).then((function(t){a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1}))},typeProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/products/all");t.isLoading=!0,t.axios.get(a).then((function(a){t.product=a.data.products,t.isLoading=!1}))},addToCard:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart"),i={product_id:t,qty:a};e.isLoading=!0,e.axios.post(s,{data:i}).then((function(t){t.data.success?(e.$bus.$emit("cartUpdate"),e.$bus.$emit("message:push","加入成功","primary-dark"),e.isLoading=!1):e.$bus.$emit("message:push","加入失敗","warning")}))},getFavorId:function(t){this.$bus.$emit("wishPic",t)}},created:function(){this.getProduct(),this.typeProduct()}},it=st,ot=Object(l["a"])(it,K,Q,!1,null,"1edf3882",null),rt=ot.exports,nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},t._l(t.DreamFilter,(function(a){return e("div",{key:a.id,staticClass:"col-xl-4 col-lg-6 mb-2 position-relative card-outer"},[e("div",{staticClass:"card bg-dark text-white web-card"},[e("img",{staticClass:"card-img",attrs:{src:a.image,alt:"..."}}),e("div",{staticClass:"card-img-overlay card-pt"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 text-center"},[e("button",{staticClass:"btn btn-primary-dark",attrs:{id:"addcart"},on:{click:function(e){return t.addToCard(a.id)}}},[t._v(" Add to cart ")])]),e("div",{staticClass:"col-6 text-center"},[e("router-link",{staticClass:"btn btn-primary-dark",attrs:{id:"seedetail",to:{name:"illustrator",params:{Illid:a.id}}}},[t._v(" See detail ")])],1)])])])])})),0)])],1)},ct=[],lt={props:{wishlist:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{product:[],isLoading:!1}},computed:{DreamFilter:function(){var t=this;return this.product.filter((function(a){return-1!==t.wishlist.indexOf(a.id)}))}},methods:{allProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/products/all");t.isLoading=!0,t.axios.get(a).then((function(a){t.product=a.data.products,t.isLoading=!1}))}},created:function(){var t=this;t.allProduct(),console.log(this.wishlist)}},dt=lt,ut=Object(l["a"])(dt,nt,ct,!1,null,null,null),pt=ut.exports,mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Alert"),e("div",{staticClass:"container"},[e("nav",{staticClass:"row",attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb col-12"},[e("router-link",{staticClass:"breadcrumb-item breadcrumb-link",attrs:{to:"/"}},[t._v(" 首頁 ")]),e("router-link",{staticClass:"breadcrumb-item breadcrumb-link",attrs:{to:"/gallery"}},[t._v(" 畫廊 ")]),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" 作品 ")])],1)])]),e("div",{staticClass:"container border-primary-dark border"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-sm-12 p-3"},[e("zoom-on-hover",{staticClass:"img-fluid zoom",attrs:{"img-normal":t.product.image,scale:1}})],1),e("div",{staticClass:"col-md-6 col-sm-12 p-3"},[e("h6",[e("strong",[t._v("- "+t._s(t.product.title)+" -")])]),e("p",[t._v(t._s(t.product.description))]),e("div",{staticClass:"row align-items-center"},[t._m(0),e("div",{staticClass:"col-6"},[e("p",[e("button",{staticClass:"productControl",class:{show:t.buttonShow},on:{click:function(a){return t.changeNum(-1)}}},[e("svg",{staticClass:"svg-inline--fa btn-primary-light fa-angle-left fa-w-8",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-left",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"}},[e("path",{attrs:{fill:"currentColor",d:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"}})])]),e("input",{staticClass:"productText",attrs:{type:"text"},domProps:{value:t.productNum}}),e("button",{staticClass:"productControl",on:{click:function(a){return t.changeNum(1)}}},[e("svg",{staticClass:"btn btn-primary-light svg-inline--fa fa-angle-right fa-w-8 p-0",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"}},[e("path",{attrs:{fill:"currentColor",d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"}})])])])]),t._m(1),e("div",{staticClass:"col-6 text-left"},[e("p",{staticClass:"font-size"},[t._v(" "+t._s(t._f("currency")(t.productNum*t.product.price))+" ")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-primary-dark",attrs:{type:"submit"},on:{click:function(a){return t.addToCart(t.product.id,t.productNum)}}},[t._v(" 加入購物車 ")])]),e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-primary-dark",attrs:{type:"submit"},on:{click:function(a){return t.addToCart_checkout(t.product.id,t.productNum)}}},[t._v(" 直接購買 ")])])])])])])],1)},vt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-6 text-center"},[e("p",{staticClass:"font-size"},[t._v(" 數量 - ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-6 text-center"},[e("p",{staticClass:"font-size"},[t._v(" 價格 - ")])])}],ft={data:function(){return{product:[],id:"",cart:[],productNum:1,isLoading:!1}},computed:{buttonShow:function(){return this.productNum<2}},methods:{idDetect:function(){var t=this;t.id=t.$route.params.Illid},changeNum:function(t){this.productNum+=t},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/product/").concat(t.id);t.axios.get(a).then((function(a){t.product=a.data.product,t.product.num=1}))},addToCart:function(t,a){var e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart"),i={product_id:"".concat(t),qty:"".concat(a)};e.isLoading=!0,e.axios.post(s,{data:i}).then((function(t){t.data.success&&(e.$bus.$emit("message:push","加入成功","success"),e.$bus.$emit("cartUpdate"),e.isLoading=!1)}))},addToCart_checkout:function(t,a){var e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart"),i={product_id:"".concat(t),qty:"".concat(a)};e.axios.post(s,{data:i}).then((function(t){t.data.success&&(e.$bus.$emit("cartUpdate"),e.$router.push("/checkout"))}))}},created:function(){this.idDetect(),this.getCart()}},gt=ft,ht=(e("fc8d"),Object(l["a"])(gt,mt,vt,!1,null,"49acff06",null)),bt=ht.exports,_t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Alert"),e("div",{staticClass:"container pc d-none d-sm-none d-md-block position-relative"},[e("div",{staticClass:"row"},[e("ul",{staticClass:"list col-12 pb-3"},[e("li",{class:{active:t.pageone}},[t._v(" 確認購物車 ")]),e("li",{class:{active:t.pagetwo}},[t._v(" 客戶資訊 ")]),e("li",[t._v("付款確認")])])]),e("div",{staticClass:"row page-transition position-absolute",class:{"hild-left":!t.pageone}},[0===t.cartbag.carts.length?e("div",{staticClass:"col-7"},[t._v(" 購物車內還沒有商品唷 ")]):t._e(),0!==t.cartbag.carts.length?e("div",{staticClass:"col-7"},[e("table",{staticClass:"table"},[t._m(0),t._l(t.cartbag.carts,(function(a){return e("tbody",{key:a.product.id,staticClass:"bg-primary-light"},[e("td",[e("img",{staticClass:"img-fluid",attrs:{src:a.product.image,alt:""}})]),e("td",[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-secondary-dark"},[t._v(" 已套用優惠 ")]):t._e()]),e("td",[t._v(t._s(a.qty)+" / pic")]),e("td",[t._v(t._s(t._f("currency")(a.product.price)))])])})),e("tfoot")],2)]):t._e(),e("div",{staticClass:"col-5"},[e("table",{staticClass:"table"},[t._m(1),e("tbody",[t.cartbag.final_total==t.cartbag.total?e("td",[t._v(" "+t._s(t._f("currency")(t.cartbag.total))+" 元 ")]):t._e(),t.cartbag.final_total!==t.cartbag.total?e("td",{staticClass:"text-danger"},[e("del",[t._v(t._s(t._f("currency")(t.cartbag.total)))]),t.cartbag.carts.coupon?e("div",[t._v(" 優惠折扣 ")]):t._e()]):t._e(),t.cartbag.final_total!==t.cartbag.total?e("td",[t._v(" "+t._s(t._f("currency")(t.cartbag.final_total))+" 元 ")]):t._e()]),e("tfoot",[e("td",{attrs:{colspan:"4"}},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入折扣碼","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:t.addCouponCode}},[t._v(" 送出 ")])])])])])]),e("table",{staticClass:"table"},[e("thead",[0!==t.cartbag.carts.length?e("td",[e("button",{staticClass:"btn btn-primary-dark w-100",attrs:{type:"button"},on:{click:function(a){t.pageone=!t.pageone,t.pagetwo=!t.pagetwo}}},[t._v(" 下一步 ")])]):t._e(),0===t.cartbag.carts.length?e("td",[e("button",{staticClass:"btn btn-primary-dark w-100",attrs:{type:"button",disabled:""},on:{click:function(a){t.pageone=!t.pageone,t.pagetwo=!t.pagetwo}}},[t._v(" 下一步 ")])]):t._e()])])])]),e("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{staticClass:"row page-transition position-absolute",class:{"hild-left":!t.pagetwo},on:{submit:function(a){return a.preventDefault(),t.sendOrder(a)}}},[e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"useremail"}},[t._v("Email *")]),e("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名 *")]),e("ValidationProvider",{attrs:{rules:"required",name:"姓名"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話 *")]),e("ValidationProvider",{attrs:{rules:"required",name:"電話"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址 *")]),e("ValidationProvider",{attrs:{rules:"required",name:"地址"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-12"},[e("label",{attrs:{for:"comment"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),e("div",{staticClass:"col-6"},[e("button",{staticClass:"btn btn-primary-dark w-100",attrs:{type:"button"},on:{click:function(a){t.pageone=!t.pageone,t.pagetwo=!t.pagetwo}}},[t._v(" 上一步 ")])]),e("div",{staticClass:"col-6 text-right"},[e("button",{staticClass:"btn btn-danger",attrs:{disabled:s}},[t._v(" 送出訂單 ")])])])]}}])})],1),e("div",{staticClass:"container mobile d-sm-block d-md-none"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[0===t.cartbag.carts.length?e("p",[t._v("購物車內還沒有商品唷")]):t._e()])]),t._l(t.cartbag.carts,(function(a){return e("div",{key:a.product.id,staticClass:"row"},[e("div",{staticClass:"col-6"},[e("img",{staticClass:"img-fluid",attrs:{src:a.product.image,alt:""}})]),e("div",{staticClass:"col-5"},[e("p",[t._v(t._s(a.product.title))]),e("p",[t._v(t._s(a.product.price)+" * "+t._s(a.qty)+" "+t._s(a.product.unit))]),e("p",[t._v(" "+t._s(t._f("currency")(a.final_total))+" "),a.coupon?e("span",{staticClass:"text-secondary-dark"},[t._v("已套用優惠")]):t._e()])]),e("div",{staticClass:"col-1"},[e("button",{staticClass:"btn p-0",on:{click:function(e){return t.removeCart(a.id)}}},[e("svg",{staticClass:"svg-inline--fa fa-trash fa-w-14 text-danger",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"trash",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[e("path",{attrs:{fill:"#FF6464",d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}})])])])])})),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入折扣碼","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",id:"button-addon2"},on:{click:t.addCouponCode}},[t._v(" 送出 ")])])])]),e("div",{staticClass:"col-6"},[t._v(" 應付金額 ")]),e("div",{staticClass:"col-6"},[e("p",[t._v(t._s(t._f("currency")(t.cartbag.final_total))+" 元")])])]),e("ValidationObserver",{ref:"observer",attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{staticClass:"row",on:{submit:function(a){return a.preventDefault(),t.sendOrder(a)}}},[e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"m_useremail"}},[t._v("Email *")]),e("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"m_useremail",placeholder:"請輸入 Email",required:""},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"m_username"}},[t._v("收件人姓名 *")]),e("ValidationProvider",{attrs:{rules:"required",name:"姓名"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"m_username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"m_usertel"}},[t._v("收件人電話 *")]),e("ValidationProvider",{attrs:{rules:"required",name:"電話"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"m_usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-6"},[e("label",{attrs:{for:"m_useraddress"}},[t._v("收件人地址 *")]),e("ValidationProvider",{attrs:{rules:"required",name:"地址"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"m_useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group col-12"},[e("label",{attrs:{for:"m_comment"}},[t._v("留言")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"m_comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),e("div",{staticClass:"col-12 text-right"},[e("button",{staticClass:"btn btn-danger",attrs:{disabled:s}},[t._v(" 送出訂單 ")])])])]}}])})],2)],1)},Ct=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"bg-primary text-white"},[e("th",{attrs:{width:"100"}}),e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{colspan:"2"}},[t._v(" 總計 ")])])}],yt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v(" "+t._s(a.message)+" "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},wt=[],xt={name:"Navbar",data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout((function(){a.messages.forEach((function(e,s){e.timestamp===t&&a.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)}))}},kt=xt,Pt=(e("82d5"),Object(l["a"])(kt,yt,wt,!1,null,null,null)),$t=Pt.exports,Et={data:function(){return{cartbag:[],pageone:!0,pagetwo:!1,pagethree:!1,coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},isLoading:!1}},components:{Alert:$t},computed:{},methods:{removeCart:function(t){var a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart/").concat(t);a.axios.delete(e).then((function(t){t.data.success&&(a.getCart(),a.$bus.$emit("message:push","刪除成功","secondary-dark"))}))},getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/cart");t.axios.get(a).then((function(a){t.cartbag=a.data.data}))},addCouponCode:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/coupon"),e={code:t.coupon_code};t.isLoading=!0,t.axios.post(a,{data:e}).then((function(a){a.data.success?(t.$bus.$emit("message:push",a.data.message,"success"),t.getCart(),t.isLoading=!1):t.$bus.$emit("message:push",a.data.message,"wraning")}))},sendOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/order"),e=t.form;t.axios.post(a,{data:e}).then((function(a){a.data.success&&t.$router.push("customorder/".concat(a.data.orderId))}))}},created:function(){this.getCart()}},Ot=Et,Lt=(e("ff9e"),Object(l["a"])(Ot,_t,Ct,!1,null,"048884da",null)),Mt=Lt.exports,Nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container"},[e("div",{staticClass:"row d-none d-sm-none d-md-block"},[e("ul",{staticClass:"list col-12 pb-3"},[e("li",{class:{active:t.pageone}},[t._v(" 確認購物車 ")]),e("li",{class:{active:t.pagetwo}},[t._v(" 客戶資訊 ")]),e("li",[t._v("付款確認")])])]),e("div",{staticClass:"my-5 row justify-content-center"},[e("form",{staticClass:"col-12",on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.order.products,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" ")]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.qty)+"/"+t._s(a.product.unit)+" ")]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(t._f("currency")(a.total))+" ")])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v(" 總計 ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(t.order.total))+" ")])])])]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"100"}},[t._v(" Email ")]),e("td",[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",[t._v("收件人電話")]),e("td",[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",[t._v("收件人地址")]),e("td",[t._v(t._s(t.order.user.address))])]),e("tr",[e("th",[t._v("付款狀態")]),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v(" 確認付款去 ")])]):t._e()])])])])},jt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("品名")]),e("th",[t._v("數量")]),e("th",[t._v("單價")])])}],Tt={data:function(){return{orderId:"",order:{user:{}},isLoading:!1}},components:{},methods:{getOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/order/").concat(t.orderId);t.isLoading=!0,t.$http.get(a).then((function(a){t.order=a.data.order,t.isLoading=!1}))},payOrder:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/pay/").concat(t.orderId);t.isLoading=!0,t.$http.post(a).then((function(a){a.data.success&&t.getOrder(),t.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()}},St=Tt,At=Object(l["a"])(St,Nt,jt,!1,null,null,null),qt=At.exports,Vt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),e("div",{staticClass:"container-fluid mt-5"},[e("div",{staticClass:"row"},[e("Sidebar"),e("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-4",attrs:{role:"main"}},[e("router-view")],1)],1)])],1)},zt=[],Dt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"col-md-2 d-none d-md-block bg-light sidebar"},[e("div",{staticClass:"sidebar-sticky"},[t._m(0),e("ul",{staticClass:"nav flex-column mb-2"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[e("i",{staticClass:"fas fa-box-open"}),t._v(" 產品列表 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/order"}},[e("i",{staticClass:"far fa-list-alt"}),t._v(" 訂單列表 ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupon"}},[e("i",{staticClass:"fas fa-ticket-alt"}),t._v(" 優惠券 ")])],1)])])])},It=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h6",{staticClass:"sidebar-heading d-flex justify-content-between align-items-center px-3 mb-1 text-muted"},[e("span",[t._v("管理者")]),e("a",{staticClass:"d-flex align-items-center text-muted",attrs:{href:"#"}},[e("span",{attrs:{"data-feather":"plus-circle"}})])])}],Ht={},Ut=Object(l["a"])(Ht,Dt,It,!1,null,null,null),Ft=Ut.exports,Bt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow"},[e("a",{staticClass:"navbar-brand col-sm-3 col-md-2 mr-0",attrs:{href:"#"}},[t._v("Company name")]),e("ul",{staticClass:"navbar-nav px-3"},[e("li",{staticClass:"nav-item text-nowrap"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.signout(a)}}},[t._v("Sign out")])])])])},Wt=[],Rt={},Jt=Object(l["a"])(Rt,Bt,Wt,!1,null,null,null),Gt=Jt.exports,Kt={components:{Sidebar:Ft,Navbar:Gt}},Qt=Kt,Xt=Object(l["a"])(Qt,Vt,zt,!1,null,null,null),Yt=Xt.exports,Zt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"text-right mt-5"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.openCouponModal(!0)}}},[t._v(" 建立新的優惠券 ")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.coupons,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.percent)+"%")]),e("td",[t._v(t._s(t._f("date")(a.due_date)))]),e("td",[1===a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",{staticClass:"text-muted"},[t._v("未起用")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openCouponModal(!1,a)}}},[t._v(" 編輯 ")])]),e("td",[e("button",{staticClass:"btn bnt-outline-primary btn-sm",on:{click:function(e){return t.openDelCouponModal(a)}}},[t._v(" 刪除 ")])])])})),0)]),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"coupon_code"}},[t._v("優惠碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date"},domProps:{value:t.due_date},on:{input:function(a){a.target.composing||(t.due_date=a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("折扣百分比")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,i=s.checked?1:0;if(Array.isArray(e)){var o=null,r=t._i(e,o);s.checked?r<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([o])):r>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.tempCoupon,"is_enabled",i)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 是否啟用 ")])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateCoupon}},[t._v(" 更新優惠券 ")])])])])]),e("div",{staticClass:"modal fade",attrs:{id:"delCouponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),e("div",{staticClass:"modal-body"},[t._v(" 是否刪除 "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 商品(刪除後將無法恢復)。 ")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.delModal}},[t._v(" 確認刪除 ")])])])])])])},ta=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("名稱")]),e("th",[t._v("折扣百分比")]),e("th",[t._v("到期日")]),e("th",[t._v("是否啟用")]),e("th",[t._v("編輯")]),e("th",[t._v("刪除")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" Modal title ")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("刪除產品")])]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],aa=(e("ac1f"),e("1276"),e("1157")),ea=e.n(aa),sa={data:function(){return{coupons:{},tempCoupon:{title:"",is_enabled:0,percent:100,due_date:0,code:""},due_date:new Date,isNew:!1,isLoading:!1}},watch:{due_date:function(){var t=this,a=Math.floor(new Date(t.due_date)/1e3);t.tempCoupon.due_date=a}},methods:{openCouponModal:function(t,a){var e=this;if(ea()("#couponModal").modal("show"),e.isNew=t,e.isNew)e.tempCoupon={};else{e.tempCoupon=Object.assign({},a);var s=new Date(1e3*e.tempCoupon.due_date).toISOString().split("T");e.due_date=s[0]}},openDelCouponModal:function(t){this.tempCoupon=t,ea()("#delCouponModal").modal("show")},getCoupons:function(){var t=this;t.isLoading=!0;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/coupons");t.$http.get(a).then((function(a){t.isLoading=!1,t.coupons=a.data.coupons,console.log(a)}))},updateCoupon:function(){var t=this,a=this;if(a.isLoading=!0,a.isNew){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/coupon");a.$http.post(e,{data:a.tempCoupon}).then((function(){a.isLoading=!1,ea()("#couponModal").modal("hide"),a.getCoupons()}))}else{var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/coupon/").concat(a.tempCoupon.id);a.due_date=new Date(1e3*a.tempCoupon.due_date),a.$http.put(s,{data:a.tempCoupon}).then((function(){a.isLoading=!1,ea()("#couponModal").modal("hide"),t.getCoupons()}))}},delModal:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/coupon/").concat(t.tempCoupon.id);t.$http.delete(a).then((function(a){t.coupons=a.data.coupons,a.data.success?(ea()("#delCouponModal").modal("hide"),t.getCoupons()):(ea()("#delCouponModal").modal("hide"),t.getCoupons(),console.log("刪除失敗"))}))}},created:function(){this.getCoupons()}},ia=sa,oa=Object(l["a"])(ia,Zt,ta,!1,null,null,null),ra=oa.exports,na=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"text-right mt-5"},[e("button",{staticClass:"btn btn-primary-light",on:{click:function(a){return t.openModal(!0)}}},[t._v(" 建立新的產品 ")])]),e("table",{staticClass:"table mt-4"},[t._m(0),e("tbody",t._l(t.products,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.category))]),e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.origin_price))]),e("td",[t._v(t._s(a.price))]),e("td",[a.is_enabled?e("span",[t._v("啟用")]):e("span",[t._v("未啟用")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.openModal(!1,a)}}},[t._v(" 編輯 ")])]),e("td",[e("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.delModal(a)}}},[t._v(" 刪除 ")])])])})),0)]),e("pagination",{attrs:{page:t.pagination},on:{pagechange:t.getProduct}}),e("div",{staticClass:"modal fade",attrs:{id:"openModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(1),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.image,expression:"tempProduct.image"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.image},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"image",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v(" 或 上傳圖片 ")]),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"}})]),e("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.tempProduct.image}})]),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"unit",a.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),e("hr"),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":1,"false-value":0}}),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.updateProduct}},[t._v(" 確認 ")])])])])])],1)},ca=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{width:"120"}},[t._v(" 分類 ")]),e("th",{attrs:{width:"120"}},[t._v(" 產品名稱 ")]),e("th",{attrs:{width:"120"}},[t._v(" 原價 ")]),e("th",{attrs:{width:"120"}},[t._v(" 售價 ")]),e("th",{attrs:{width:"80"}},[t._v(" 是否啟用 ")]),e("th",{attrs:{width:"80"}},[t._v(" 編輯 ")]),e("th",{attrs:{width:"80"}},[t._v(" 刪除 ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[e("span",[t._v("新增產品")])]),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close","data-dismiss":"modal"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],la={data:function(){return{products:[],tempProduct:{},isNew:!1,isLoading:!1,status:{filesLoading:!1},pagination:{}}},components:{Pagination:et},methods:{getProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.isLoading=!0;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/products?page=").concat(t);this.axios.get(e).then((function(t){a.products=t.data.products,console.log(t),a.isLoading=!1,a.pagination=t.data.pagination}))},openModal:function(t,a){ea()(".modal").modal("show"),console.log(t),t?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},a),this.isNew=!1)},modalClose:function(){ea()(".modal").hide()},updateProduct:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/product"),e="post";t.isNew||(a="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/product/").concat(t.tempProduct.id),e="put"),t.axios[e](a,{data:t.tempProduct}).then((function(a){a.data.success?(ea()("#openModal").modal("hide"),t.getProduct()):(ea()("#openModal").modal("hide"),t.getProduct(),alert("error"))}))},delModal:function(t){var a=this;a.tempProduct=t;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/product/").concat(t.id);a.axios.delete(e).then((function(t){a.products=t.data.products,a.getProduct()}))},uploadFile:function(){var t=this,a=t.$refs.files.files[0],e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/upload"),s=new FormData;t.status.filesLoading=!0,s.append("file",a),t.axios.post(e,s,{header:{"Content-Type":"multipart/form-data"}}).then((function(a){a.data.success?(t.status.filesLoading=!1,t.$set(t.tempProduct,"img",a.data.imageUrl)):t.$emit("message:push","上傳失敗","warning")}))}},created:function(){this.getProduct()}},da=la,ua=Object(l["a"])(da,na,ca,!1,null,null,null),pa=ua.exports,ma=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("table",{staticClass:"table mt-5"},[t._m(0),t.orders.length?e("tbody",t._l(t.sortOrder,(function(a,s){return e("tr",{key:s,class:{"text-secondary":!a.is_paid}},[e("td",[t._v(t._s(a.create_at))]),e("td",[a.user?e("span",{domProps:{textContent:t._s(a.user.email)}}):t._e()]),e("td",[e("ul",{staticClass:"list-unstyled"},t._l(a.products,(function(a,s){return e("li",{key:s},[t._v(" "+t._s(a.product.title)+" 數量："+t._s(a.qty)+" "+t._s(a.product.unit)+" ")])})),0)]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(a.total))+" ")]),e("td",[a.is_paid?e("strong",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-muted"},[t._v("尚未起用")])])])})),0):t._e()]),e("Pagination",{attrs:{pages:t.pagination},on:{emitPages:t.getOrders}})],1)},va=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("購買時間")]),e("th",[t._v("Email")]),e("th",[t._v("購買款項")]),e("th",[t._v("應付金額")]),e("th",[t._v("是否付款")])])])}],fa={data:function(){return{orders:{},pagination:{}}},components:{Pagination:et},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("vivian","/admin/orders?page=").concat(t);a.isLoading=!0,a.$http.get(e).then((function(t){a.orders=t.data.orders,a.pagination=t.data.pagination,a.isLoading=!1,console.log(t)}))}},computed:{sortOrder:function(){var t=this,a=[];return t.orders.length&&(a=t.orders.sort((function(t,a){var e=t.is_paid?1:0,s=a.is_paid?1:0;return s-e}))),a}},created:function(){this.getOrders(),console.log(Object({NODE_ENV:"production",VUE_APP_APIPATH:"https://vue-course-api.hexschool.io",VUE_APP_CLI_UI_URL:"",VUE_APP_TITLE:"My App",VUE_APP_USERPATH:"vivian",BASE_URL:""}).APIPATH)}},ga=fa,ha=Object(l["a"])(ga,ma,va,!1,null,null,null),ba=ha.exports,_a=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hello"},[e("form",{staticClass:"form-signin",on:{submit:function(a){return a.preventDefault(),t.login(a)}}},[e("img",{staticClass:"mb-4",attrs:{src:"",alt:"",width:"72",height:"72"}}),e("h1",{staticClass:"h3 mb-3 font-weight-normal text-center"},[t._v(" 會員登入 ")]),e("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("輸入信箱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"輸入信箱",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("輸入密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"輸入密碼",required:""},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._m(0),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" 登入 ")])])])},Ca=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"checkbox mb-3"},[e("label",[e("input",{attrs:{type:"checkbox",value:"remember-me"}}),t._v(" "),e("small",[t._v("記住我")])])])}],ya={name:"HelloWorld",data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var t="".concat("https://vue-course-api.hexschool.io","/admin/signin"),a=this;a.axios.post(t,a.user).then((function(t){console.log(t.data),t.data.success&&a.$router.push("/admin/products")}))}}},wa=ya,xa=(e("6d27"),Object(l["a"])(wa,_a,Ca,!1,null,"05248744",null)),ka=xa.exports;i["a"].use(p["a"]);var Pa=[{path:"/",name:"Index",component:q,children:[{path:"/",name:"home",component:G},{path:"/gallery",name:"gallery",component:rt},{path:"/checkout",name:"checkout",component:Mt},{path:"/customorder/:orderId",name:"customorder",component:qt},{path:"/illustrator/:Illid",name:"illustrator",component:bt},{path:"/favor",name:"favor",component:pt},{path:"/login",name:"login",component:ka}]},{path:"/Admin",name:"dashboard",component:Yt,children:[{path:"products",name:"products",component:pa,meta:{requiredUser:!0}},{path:"order",name:"order",component:ba,meta:{requiredUser:!0}},{path:"coupon",name:"coupon",component:ra,meta:{requiredUser:!0}}]}],$a=new p["a"]({routes:Pa}),Ea=$a,Oa=e("f5bd"),La=e.n(Oa),Ma=e("6afc"),Na=e("7212"),ja=e.n(Na),Ta=(e("dfa4"),e("9062")),Sa=e.n(Ta),Aa=(e("e40d"),e("a9e3"),e("b680"),e("5319"),function(t){var a=Number(t);return"$ ".concat(a.toFixed(0).replace(/./g,(function(t,a,e){var s=a&&"."!==t&&(e.length-a)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))}),qa=e("7bb1"),Va=e("4c93"),za=e("60d4");i["a"].prototype.$bus=new i["a"];var Da=e("bc3a"),Ia=e.n(Da),Ha=e("a7fe"),Ua=e.n(Ha);e("4989");i["a"].component("Alert",$t),i["a"].use(La.a),i["a"].use(Ma["a"]),i["a"].use(ja.a),i["a"].component("Loading",Sa.a),i["a"].filter("currency",Aa),Object.keys(Va).forEach((function(t){Object(qa["c"])(t,Object(s["a"])({},Va[t],{message:za["a"][t]}))})),i["a"].component("ValidationProvider",qa["b"]),i["a"].component("ValidationObserver",qa["a"]),i["a"].config.productionTip=!1,i["a"].use(Ua.a,Ia.a),Ia.a.defaults.withCredentials=!0,new i["a"]({router:Ea,render:function(t){return t(u)}}).$mount("#app"),Ea.beforeEach((function(t,a,e){if(t.meta.requiredUser){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");Ia.a.post(s).then((function(t){console.log(t.data),t.data.success?e():e({path:"/login"})}))}else e()}))},"5bac":function(t,a,e){"use strict";var s=e("77cb"),i=e.n(s);i.a},"5c0b":function(t,a,e){"use strict";var s=e("9c0c"),i=e.n(s);i.a},6602:function(t,a,e){},6693:function(t,a,e){t.exports=e.p+"img/pipe_1.b6991b4c.jpg"},"66d8":function(t,a,e){},"6d27":function(t,a,e){"use strict";var s=e("be5f"),i=e.n(s);i.a},"760e":function(t,a,e){},"77cb":function(t,a,e){},"7a7c":function(t,a,e){t.exports=e.p+"img/winecandy_1.31adbd27.jpg"},"82d5":function(t,a,e){"use strict";var s=e("dccc"),i=e.n(s);i.a},"8c93":function(t,a,e){t.exports=e.p+"img/Rainbow_1.0c01eb0c.jpg"},"8da3":function(t,a,e){t.exports=e.p+"img/milktea_1.6bf9d76d.jpg"},"8e7b":function(t,a,e){"use strict";var s=e("27cb"),i=e.n(s);i.a},"9c0c":function(t,a,e){},"9e2a":function(t,a,e){t.exports=e.p+"img/Mouse_3.294517f3.jpg"},"9e7a":function(t,a,e){"use strict";var s=e("c962"),i=e.n(s);i.a},b6ed:function(t,a,e){t.exports=e.p+"img/eggroll_1.193a1166.jpg"},be5f:function(t,a,e){},c741:function(t,a,e){t.exports=e.p+"img/cofe_3.b6401c8d.jpg"},c962:function(t,a,e){},d3f8:function(t,a,e){t.exports=e.p+"img/Muffin_3.1c061362.jpg"},d836:function(t,a,e){t.exports=e.p+"img/donut_3.e55aa7d4.jpg"},dccc:function(t,a,e){},e40e:function(t,a,e){"use strict";var s=e("e976"),i=e.n(s);i.a},e813:function(t,a,e){t.exports=e.p+"img/Cream_3.ac29185a.jpg"},e976:function(t,a,e){},f399:function(t,a,e){},fc8d:function(t,a,e){"use strict";var s=e("760e"),i=e.n(s);i.a},ff9e:function(t,a,e){"use strict";var s=e("6602"),i=e.n(s);i.a},fff5:function(t,a,e){t.exports=e.p+"img/carrot_1.7c3b00b8.jpg"}});
//# sourceMappingURL=app.745f6107.js.map